!function(t,e){"use strict";var i,n=t.document;i=function(){var e,i,o,s,r,a,l,c,u,f,d,y,h,p={},b={},v=!1,m={ENTER:13,ESC:27,SPACE:32},g=[];return b={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',cancel:'<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},h=function(){var t,e,i=!1,o=n.createElement("fakeelement"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(t in s)if(void 0!==o.style[t]){e=s[t],i=!0;break}return{type:e,supported:i}},e=function(t){return n.getElementById(t)},p={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:void 0,addListeners:function(t){var e,a,l,c,u,f=void 0!==o,d=void 0!==i,h=void 0!==y,p="",b=this;e=function(e){return void 0!==e.preventDefault&&e.preventDefault(),l(e),void 0!==y&&(p=y.value),"function"==typeof t&&(void 0!==y?t(!0,p):t(!0)),!1},a=function(e){return void 0!==e.preventDefault&&e.preventDefault(),l(e),"function"==typeof t&&t(!1),!1},l=function(t){b.hide(),b.unbind(n.body,"keyup",c),b.unbind(s,"focus",u),f&&b.unbind(o,"click",e),d&&b.unbind(i,"click",a)},c=function(t){var i=t.keyCode;(i===m.SPACE&&!h||h&&i===m.ENTER)&&e(t),i===m.ESC&&d&&a(t)},u=function(t){h?y.focus():!d||b.buttonReverse?o.focus():i.focus()},this.bind(s,"focus",u),this.bind(r,"focus",u),f&&this.bind(o,"click",e),d&&this.bind(i,"click",a),this.bind(n.body,"keyup",c),this.transition.supported||this.setFocus()},bind:function(t,e,i){"function"==typeof t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},handleErrors:function(){if(void 0!==t.onerror){var e=this;return t.onerror=function(t,i,n){e.error("["+t+" on line "+n+" of "+i+"]",0)},!0}return!1},appendButtons:function(t,e){return this.buttonReverse?e+t:t+e},build:function(t){var e="",i=t.type,n=t.message,o=t.cssClass||"";switch(e+='<div class="alertify-dialog">',e+='<a id="alertify-resetFocusBack" class="alertify-resetFocus" href="#">Reset Focus</a>',"none"===p.buttonFocus&&(e+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'),"prompt"===i&&(e+='<div id="alertify-form">'),e+='<article class="alertify-inner">',e+=b.message.replace("{{message}}",n),"prompt"===i&&(e+=b.input),e+=b.buttons.holder,e+="</article>","prompt"===i&&(e+="</div>"),e+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',e+="</div>",i){case"confirm":e=e.replace("{{buttons}}",this.appendButtons(b.buttons.cancel,b.buttons.ok)),e=e.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":e=e.replace("{{buttons}}",this.appendButtons(b.buttons.cancel,b.buttons.submit)),e=e.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":e=e.replace("{{buttons}}",b.buttons.ok),e=e.replace("{{ok}}",this.labels.ok)}return u.className="alertify alertify-"+i+" "+o,c.className="alertify-cover",e},close:function(t,e){var i,n,o=e&&!isNaN(e)?+e:this.delay,s=this;this.bind(t,"click",function(){i(t)}),n=function(t){t.stopPropagation(),s.unbind(this,s.transition.type,n),f.removeChild(this),f.hasChildNodes()||(f.className+=" alertify-logs-hidden")},i=function(t){void 0!==t&&t.parentNode===f&&(s.transition.supported?(s.bind(t,s.transition.type,n),t.className+=" alertify-log-hide"):(f.removeChild(t),f.hasChildNodes()||(f.className+=" alertify-logs-hidden")))},0!==e&&setTimeout(function(){i(t)},o)},dialog:function(t,e,i,o,s){l=n.activeElement;var r=function(){f&&null!==f.scrollTop&&c&&null!==c.scrollTop||r()};if("string"!=typeof t)throw new Error("message must be a string");if("string"!=typeof e)throw new Error("type must be a string");if(void 0!==i&&"function"!=typeof i)throw new Error("fn must be a function");return this.init(),r(),g.push({type:e,message:t,callback:i,placeholder:o,cssClass:s}),v||this.setup(),this},extend:function(t){if("string"!=typeof t)throw new Error("extend method must have exactly one paramter");return function(e,i){return this.log(e,t,i),this}},hide:function(){var t,e=this;g.splice(0,1),g.length>0?this.setup(!0):(v=!1,t=function(i){i.stopPropagation(),e.unbind(u,e.transition.type,t)},this.transition.supported?(this.bind(u,this.transition.type,t),u.className="alertify alertify-hide alertify-hidden"):u.className="alertify alertify-hide alertify-hidden alertify-isHidden",c.className="alertify-cover alertify-cover-hidden",l.focus())},init:function(){n.createElement("nav"),n.createElement("article"),n.createElement("section"),null==e("alertify-cover")&&(c=n.createElement("div"),c.setAttribute("id","alertify-cover"),c.className="alertify-cover alertify-cover-hidden",n.body.appendChild(c)),null==e("alertify")&&(v=!1,g=[],u=n.createElement("section"),u.setAttribute("id","alertify"),u.className="alertify alertify-hidden",n.body.appendChild(u)),null==e("alertify-logs")&&(f=n.createElement("section"),f.setAttribute("id","alertify-logs"),f.className="alertify-logs alertify-logs-hidden",n.body.appendChild(f)),n.body.setAttribute("tabindex","0"),this.transition=h()},log:function(t,e,i){var n=function(){f&&null!==f.scrollTop||n()};return this.init(),n(),f.className="alertify-logs",this.notify(t,e,i),this},notify:function(t,e,i){var o=n.createElement("article");o.className="alertify-log"+("string"==typeof e&&""!==e?" alertify-log-"+e:""),o.innerHTML=t,f.appendChild(o),setTimeout(function(){o.className=o.className+" alertify-log-show"},50),this.close(o,i)},set:function(t){var e;if("object"!=typeof t&&t instanceof Array)throw new Error("args must be an object");for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},setFocus:function(){y?(y.focus(),y.select()):a.focus()},setup:function(t){var n,l=g[0],c=this;v=!0,n=function(t){t.stopPropagation(),c.setFocus(),c.unbind(u,c.transition.type,n)},this.transition.supported&&!t&&this.bind(u,this.transition.type,n),u.innerHTML=this.build(l),s=e("alertify-resetFocus"),r=e("alertify-resetFocusBack"),o=e("alertify-ok")||void 0,i=e("alertify-cancel")||void 0,a="cancel"===p.buttonFocus?i:"none"===p.buttonFocus?e("alertify-noneFocus"):o,y=e("alertify-text")||void 0,d=e("alertify-form")||void 0,"string"==typeof l.placeholder&&""!==l.placeholder&&(y.value=l.placeholder),t&&this.setFocus(),this.addListeners(l.callback)},unbind:function(t,e,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)}},{alert:function(t,e,i){return p.dialog(t,"alert",e,"",i),this},confirm:function(t,e,i){return p.dialog(t,"confirm",e,"",i),this},extend:p.extend,init:p.init,log:function(t,e,i){return p.log(t,e,i),this},prompt:function(t,e,i,n){return p.dialog(t,"prompt",e,i,n),this},success:function(t,e){return p.log(t,"success",e),this},error:function(t,e){return p.log(t,"error",e),this},set:function(t){p.set(t)},labels:p.labels,debug:p.handleErrors}},"function"==typeof define?define([],function(){return new i}):void 0===t.alertify&&(t.alertify=new i)}(this);